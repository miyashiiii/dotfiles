$PATH.append("/usr/local/bin")
$PATH.append("/Users/miyashita/.nodebrew/current/bin")

$DOTFILES = f'{$HOME}/dotfiles'

import .xonshrc_work

# プロンプト上には場所だけ出す
$PROMPT = "{YELLOW}[{cwd}] {CYAN}{curr_branch} {GREEN}$ "

# .xonshrc
aliases['sx'] = 'source ~/.xonshrc'
aliases['vx'] = 'vi ~/.xonshrc'

# ls
aliases['la'] = 'ls -a'
aliases['ll'] = 'ls -la'
aliases['ls'] = 'la' if $PWD == $DOTFILES else 'ls'

# s3
aliases['sss'] = 'aws s3'

# ssh
aliases['sshoil'] = 'ssh -i ~/.ssh/dev-chuden-wiring.pem -L 6008:localhost:6006'
aliases['sshoil2'] = 'ssh -i ~/.ssh/dev-chuden-wiring.pem -L 6009:localhost:6006'

# scp
aliases['scpoil'] = 'scp -i ~/.ssh/dev-chuden-wiring.pem'

# cd
aliases['df'] = f'cd {$DOTFILES}'

# ディレクトリ名を入力すればCDできる
$AUTO_CD = True

# ライブラリの実行時import
# https://vaaaaaanquish.hatenablog.com/entry/2017/12/26/190153
# xonsh上で使うときがありそうなライブラリはlazyasdで補完時、実行時に読み込み
from xonsh.lazyasd import lazyobject
import importlib
lazy_module_dict = {
    'sys': 'sys',
    'random': 'random',
    'shutil': 'shutil',
    'pd': 'pandas',
    'np': 'numpy',
    'requests': 'requests',
    'os': 'os',
    'plt': 'matplotlib.pyplot',
    'Path': 'pathlib.Path',
        }
for k,v in lazy_module_dict.items():
    t = f"@lazyobject\ndef {k}():\n    return importlib.import_module('{v}')"
    exec(t)

